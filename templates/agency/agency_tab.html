<div class="container py-4">
    <div class="card border-0 shadow-sm rounded-4">
        <div class="card-body p-4">
            <div class="row g-4 align-items-center">
                <!-- Logo Alanı -->
                <div class="col-lg-4 text-center">
                    <div class="position-relative d-inline-block">
                        {% if agency.logo %}
                            <img src="{{ agency.logo.url }}" alt="{{ agency.name }} Logo"
                                class="img-fluid rounded-4 shadow-sm" style="width: 280px; height: 280px; object-fit: contain;">
                        {% else %}
                            <div class="rounded-4 bg-light d-flex align-items-center justify-content-center"
                                style="width: 280px; height: 280px;">
                                <i class="bi bi-building text-muted" style="font-size: 4rem;"></i>
                            </div>
                        {% endif %}

                            <!-- Logo Yükleme Butonu -->
                            <form method="post" action="{% url 'update_agency_logo' agency.id %}"
                                enctype="multipart/form-data" class="mt-3">
                                {% csrf_token %}
                                <div class="d-flex gap-2 justify-content-center">
                                    <div class="position-relative" style="flex: 1; max-width: 200px;">
                                        <input type="file" class="form-control form-control-sm opacity-0 position-absolute top-0 start-0 w-100 h-100"
                                            name="logo" accept="image/*" style="cursor: pointer;">
                                        <button type="button" class="btn btn-light btn-sm border w-100">
                                            <i class="bi bi-image me-1"></i>Logo Seç
                                        </button>
                                    </div>
                                    <button type="submit" class="btn btn-primary btn-sm px-4">
                                        <i class="bi bi-upload me-1"></i>Yükle
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                <!-- Acente Detayları -->
                <div class="col-lg-8">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <div class="form-floating">
                                <input type="text" class="form-control bg-light" value="{{ agency.name }}" readonly id="agencyName">
                                <label for="agencyName" class="text-muted">
                                    <i class="bi bi-building me-1"></i>Acente Adı
                                </label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-floating">
                                <input type="text" class="form-control bg-light" value="{{ agency.domain }}" readonly id="agencyDomain">
                                <label for="agencyDomain" class="text-muted">
                                    <i class="bi bi-globe me-1"></i>Domain
                                </label>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="form-floating">
                                <input type="text" class="form-control bg-light" value="Örnek Adres" readonly id="agencyAddress">
                                <label for="agencyAddress" class="text-muted">
                                    <i class="bi bi-geo-alt me-1"></i>Adres
                                </label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-floating">
                                <input type="text" class="form-control bg-light" value="+90 555 555 55 55" readonly id="agencyContact">
                                <label for="agencyContact" class="text-muted">
                                    <i class="bi bi-telephone me-1"></i>İletişim
                                </label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-floating">
                                <input type="text" class="form-control bg-light" value="John Doe" readonly id="agencyPerson">
                                <label for="agencyPerson" class="text-muted">
                                    <i class="bi bi-person me-1"></i>Yetkili Kişi
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.btn-primary {
    background-color: #291f69;
    border-color: #291f69;
}
.btn-primary:hover {
    background-color: #e1b45f;
    border-color: #e1b45f;
}
.form-control {
    border: 1px solid #e5e7eb;
}
.form-control:focus {
    border-color: #7951aa;
    box-shadow: 0 0 0 0.2rem rgba(121, 81, 170, 0.15);
}
.form-floating > label {
    padding-left: 1rem;
}
.form-floating > .form-control {
    height: calc(3.5rem + 2px);
    line-height: 1.25;
}
.form-floating > .form-control:focus ~ label,
.form-floating > .form-control:not(:placeholder-shown) ~ label {
    opacity: 0.8;
    transform: scale(0.85) translateY(-0.5rem) translateX(0.15rem);
}
.toast {
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
}
.bg-success-subtle {
    background-color: #d1e7dd !important;
}
.bg-danger-subtle {
    background-color: #f8d7da !important;
}
.text-success {
    color: #0f5132 !important;
}
.text-danger {
    color: #842029 !important;
}
</style>

<script>
// Logo seçildiğinde otomatik submit
document.querySelector('input[type="file"]').addEventListener('change', function() {
    if (this.files.length > 0) {
        this.closest('form').submit();
    }
});

// Toast mesajlarını 3 saniye sonra gizle
setTimeout(function() {
    document.querySelectorAll('.toast').forEach(function(toast) {
        toast.classList.remove('show');
    });
}, 3000);
</script>